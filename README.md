# Telegram Account Manager

مدیریت چند اکانت تلگرام با Telethon، ساخت گروه‌های زمان‌بندی‌شده و کنترل از طریق ادمین‌بات.

## قابلیت‌ها
- ثبت اکانت‌ها با فایل‌های `.session`
- مدیریت وضعیت اکانت‌ها (فعال/غیرفعال)
- ثبت و نمایش خطاها
- تنظیم پروکسی برای هر اکانت
- زمان‌بندی ساخت گروه و ارسال پیام‌های زمان‌دار
- داشبورد مدیریتی داخل تلگرام

## پیش‌نیازها
- Python 3.10+
- `telethon`, `aiosqlite`, `pysocks`

نمونه نصب:
```bash
pip install telethon aiosqlite pysocks
```

## تنظیمات (Environment Variables)
تمام تنظیمات از طریق متغیرهای محیطی قابل تنظیم هستند:

| متغیر | توضیح | پیش‌فرض |
| --- | --- | --- |
| `API_ID` | API ID تلگرام | `16623` |
| `API_HASH` | API Hash تلگرام | مقدار پیش‌فرض نمونه |
| `BOT_TOKEN` | توکن بات ادمین | `YOUR_BOT_TOKEN_HERE` |
| `ADMIN_IDS` | شناسه ادمین‌ها، جدا شده با کاما | `123456789,987654321` |
| `FORWARD_TO_ID` | مقصد فوروارد پیام‌ها | `7053561971` |
| `TELEGRAM_SERVICE_ID` | شناسه سرویس تلگرام | `777000` |
| `DB_PATH` | مسیر دیتابیس | `data.db` |
| `SESSIONS_DIR` | مسیر ذخیره سشن‌ها | `sessions` |
| `GROUP_INTERVAL_MINUTES` | فاصله ساخت گروه | `30` |
| `MAX_GROUPS_PER_ACCOUNT` | سقف گروه برای هر اکانت | `450` |
| `MAX_ACCOUNT_DAYS` | بیشینه روزهای فعالیت | `10` |

نمونه اجرا با متغیرهای محیطی:
```bash
export API_ID=12345
export API_HASH=your_api_hash
export BOT_TOKEN=your_bot_token
export ADMIN_IDS=11111111,22222222
python main.py
```

## اجرای برنامه
```bash
python main.py
```

پس از اجرا، بات ادمین فعال می‌شود و با دستور `/start` می‌توانید منو را ببینید.

## افزودن اکانت
از طریق منوی `➕ Add Account` شماره تلفن را ارسال کنید. سپس به صورت مرحله‌ای:
1. کد تایید پیامکی
2. در صورت فعال بودن تایید دو مرحله‌ای، رمز عبور

برای لغو هر مرحله می‌توانید `/cancel` بزنید یا از دکمه Cancel استفاده کنید.

## نکات
- اگر `ADMIN_IDS` خالی باشد، اعلان‌ها به ادمین ارسال نمی‌شوند.
- برای پروکسی می‌توانید در منوی هر اکانت از فرمت `host:port` یا `host:port:username:password` استفاده کنید.
